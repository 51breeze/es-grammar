const Type = require("./Type");
class GenericValueType extends Type{
    constructor(inherit,target){
        super('$GenericValueType', inherit);
        this.target = target;
        this.isGenericValueType=true;
    }
    get value(){
        return this.inherit;
    }
    is( type ){
        if( !type || !(type instanceof Type) )return false;
        if( type.isGenericValueType ){
            type = type.value;
            if( !type ){
                return true;
            }
        }
        if( type === this || (this.target === type.target && type.isGenericValueType) )return true;
        if( this.inherit ){
            return this.inherit.is(type);
        }
        return true;
    }
    toString(){
        if( this.inherit ){
            return this.inherit.toString();
        }
        return "unknown";
    }
}
module.exports = GenericValueType;